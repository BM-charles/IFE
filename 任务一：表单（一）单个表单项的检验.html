<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>任务一</title>
	<style>
		.div{
			margin-top: 50px;
			margin-left: 100px;
			height: 100px;
		}
		.ipt{
			height: 30px;
			width: 200px;
			margin-left: 20px;
			margin-right: 20px;
			border-radius: 5px;
			outline: none;
			border: solid 1px #ccc;
		}
		</style>
</head>
<body>
<div class="div">
	<span>名字</span><span><input type="text" class="ipt"></span><button class="yan">验证</button><br>
	<div class="cla1"></div>
</div>
<div class="div">
	<span>名字</span><input type="text" class="ipt"><button class="yan">验证</button><br>
	<div class="cla1"></div>

</div>
<div class="div">
	<span>名字</span><input type="text" class="ipt"><button class="yan">验证</button>
	<div class="cla1"></div>
</div>
<script>
	var ipt = document.getElementsByClassName('ipt');
	var yan = document.getElementsByClassName('yan');
	var div = document.getElementsByClassName('div');
	var div1 = document.getElementsByClassName('cla1');
	var patt1=new RegExp(/^.{4,16}$/);
	for (var i = 0; i <yan.length; i++) {
		yan[i].index = i;
		yan[i].onclick = function() {
			if(ipt[this.index].value ==null||ipt[this.index].value==""){
				ipt[this.index].className = 'ipt';
				ipt[this.index].style.border = 'solid 2px red';
				div1[this.index].innerHTML= '&nbsp;&nbsp;&nbsp; 名字不能为空';
			}
			else if(!patt1.test(ipt[this.index].value)){
				ipt[this.index].className = 'ipt ipt-a';
				ipt[this.index].style.border = 'solid 2px red';
				div1[this.index].innerHTML= '&nbsp;&nbsp;&nbsp; 必填，长度为4~6个字符';
			}else{
				ipt[this.index].className = 'ipt ipt-g';
				ipt[this.index].style.border = 'solid 2px green';
				div1[this.index].innerHTML= '&nbsp;&nbsp;&nbsp; 名称格式正确';
			}
		}
	}
</script>
</body>
</html>
